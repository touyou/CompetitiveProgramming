import java.util.*;

public class CantorDust {
    public int occurrencesNumber(String[] pattern, int time) {
    	int res=0;
    	//ここに記述をしてください！
        return res;
    }

// BEGIN CUT HERE
    public static void main(String[] args) {
        try {
            eq(0,(new CantorDust()).occurrencesNumber(new String[] {".X",".."}, 1),1);
            eq(1,(new CantorDust()).occurrencesNumber(new String[] {".."}, 1),2);
            eq(2,(new CantorDust()).occurrencesNumber(new String[] {"."}, 2),65);
            eq(3,(new CantorDust()).occurrencesNumber(new String[] {"X...X"}, 2),4);
            eq(4,(new CantorDust()).occurrencesNumber(new String[] {"X"}, 9),262144);
            eq(5,(new CantorDust()).occurrencesNumber(new String[] {"....", "....", "...."}, 9),385369800);
            eq(6,(new CantorDust()).occurrencesNumber(new String[] {"...........................", "...........................", "...........................", "...........................", "...........................", "...........................", "..........................."}, 3),3);
            eq(7,(new CantorDust()).occurrencesNumber(new String[] {".......X.X...X.X........", "........................"}, 5),186);
            eq(8,(new CantorDust()).occurrencesNumber(new String[] {"...............................................", "...............................................", "...............................................", "...............................................", "...............................................", ".X...X.X.........X.X...X.X.....................", "...............................................", ".X...X.X.........X.X...X.X.....................", "...............................................", "...............................................", "...............................................", ".X...X.X.........X.X...X.X.....................", "...............................................", ".X...X.X.........X.X...X.X.....................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", "...............................................", ".X...X.X.........X.X...X.X.....................", "..............................................."}, 8),496);
            eq(9,(new CantorDust()).occurrencesNumber(new String[] {"X.X...X.X.........X.X..", ".......................", "X.X...X.X.........X.X..", ".......................", ".......................", ".......................", "X.X...X.X.........X.X..", ".......................", "X.X...X.X.........X.X..", ".......................", ".......................", ".......................", ".......................", ".......................", ".......................", ".......................", ".......................", ".......................", "X.X...X.X.........X.X..", ".......................", "X.X...X.X.........X.X..", ".......................", ".......................", ".......................", "X.X...X.X.........X.X..", ".......................", "X.X...X.X.........X.X.."}, 9),4096);
        } catch( Exception exx) {
            System.err.println(exx);
            exx.printStackTrace(System.err);
        }
    }
    private static void eq( int n, int a, int b ) {
        if ( a==b )
            System.err.println("Case "+n+" passed.");
        else
            System.err.println("Case "+n+" failed: expected "+b+", received "+a+".");
    }
// END CUT HERE
}
import java.util.*;

public class CantorDust {
    public int occurrencesNumber(String[] pattern, int time) {
	int res;
	//ここに記述をしてください！
        return res;
    }

// BEGIN CUT HERE
    public static void main(String[] args) {
        try {
            eq(0,(new CantorDust()).occurrencesNumber(new String[] {".X",".."}, 1),1);
            eq(1,(new CantorDust()).occurrencesNumber(new String[] {".."}, 1),2);
            eq(2,(new CantorDust()).occurrencesNumber(new String[] {"."}, 2),65);
            eq(3,(new CantorDust()).occurrencesNumber(new String[] {"X...X"}, 2),4);
            eq(4,(new CantorDust()).occurrencesNumber(new String[] {"X"}, 9),262144);
            eq(5,(new CantorDust()).occurrencesNumber(new String[] {"....", "....", "...."}, 9),385369800);
            eq(6,(new CantorDust()).occurrencesNumber(new String[] {"X"}, 9),262144);
            eq(7,(new CantorDust()).occurrencesNumber(new String[] {"X"}, 9),262144);
            eq(8,(new CantorDust()).occurrencesNumber(new String[] {"X"}, 9),262144);
            eq(9,(new CantorDust()).occurrencesNumber(new String[] {"X"}, 9),262144);
        } catch( Exception exx) {
            System.err.println(exx);
            exx.printStackTrace(System.err);
        }
    }
    private static void eq( int n, int a, int b ) {
        if ( a==b )
            System.err.println("Case "+n+" passed.");
        else
            System.err.println("Case "+n+" failed: expected "+b+", received "+a+".");
    }
// END CUT HERE
}
